{"ast":null,"code":"'use strict';\n\nlet CssSyntaxError = require('./css-syntax-error');\n\nlet Declaration = require('./declaration');\n\nlet LazyResult = require('./lazy-result');\n\nlet Container = require('./container');\n\nlet Processor = require('./processor');\n\nlet stringify = require('./stringify');\n\nlet fromJSON = require('./fromJSON');\n\nlet Document = require('./document');\n\nlet Warning = require('./warning');\n\nlet Comment = require('./comment');\n\nlet AtRule = require('./at-rule');\n\nlet Result = require('./result.js');\n\nlet Input = require('./input');\n\nlet parse = require('./parse');\n\nlet list = require('./list');\n\nlet Rule = require('./rule');\n\nlet Root = require('./root');\n\nlet Node = require('./node');\n\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0];\n  }\n\n  return new Processor(plugins);\n}\n\npostcss.plugin = function plugin(name, initializer) {\n  let warningPrinted = false;\n\n  function creator(...args) {\n    // eslint-disable-next-line no-console\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true; // eslint-disable-next-line no-console\n\n      console.warn(name + ': postcss.plugin was deprecated. Migration guide:\\n' + 'https://evilmartians.com/chronicles/postcss-8-plugin-migration');\n\n      if (process.env.LANG && process.env.LANG.startsWith('cn')) {\n        /* c8 ignore next 7 */\n        // eslint-disable-next-line no-console\n        console.warn(name + ': 里面 postcss.plugin 被弃用. 迁移指南:\\n' + 'https://www.w3ctech.com/topic/2226');\n      }\n    }\n\n    let transformer = initializer(...args);\n    transformer.postcssPlugin = name;\n    transformer.postcssVersion = new Processor().version;\n    return transformer;\n  }\n\n  let cache;\n  Object.defineProperty(creator, 'postcss', {\n    get() {\n      if (!cache) cache = creator();\n      return cache;\n    }\n\n  });\n\n  creator.process = function (css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts);\n  };\n\n  return creator;\n};\n\npostcss.stringify = stringify;\npostcss.parse = parse;\npostcss.fromJSON = fromJSON;\npostcss.list = list;\n\npostcss.comment = defaults => new Comment(defaults);\n\npostcss.atRule = defaults => new AtRule(defaults);\n\npostcss.decl = defaults => new Declaration(defaults);\n\npostcss.rule = defaults => new Rule(defaults);\n\npostcss.root = defaults => new Root(defaults);\n\npostcss.document = defaults => new Document(defaults);\n\npostcss.CssSyntaxError = CssSyntaxError;\npostcss.Declaration = Declaration;\npostcss.Container = Container;\npostcss.Processor = Processor;\npostcss.Document = Document;\npostcss.Comment = Comment;\npostcss.Warning = Warning;\npostcss.AtRule = AtRule;\npostcss.Result = Result;\npostcss.Input = Input;\npostcss.Rule = Rule;\npostcss.Root = Root;\npostcss.Node = Node;\nLazyResult.registerPostcss(postcss);\nmodule.exports = postcss;\npostcss.default = postcss;","map":null,"metadata":{},"sourceType":"script"}