{"ast":null,"code":"'use strict';\n\nlet pico = require('picocolors');\n\nlet tokenizer = require('./tokenize');\n\nlet Input;\n\nfunction registerInput(dependant) {\n  Input = dependant;\n}\n\nconst HIGHLIGHT_THEME = {\n  'brackets': pico.cyan,\n  'at-word': pico.cyan,\n  'comment': pico.gray,\n  'string': pico.green,\n  'class': pico.yellow,\n  'hash': pico.magenta,\n  'call': pico.cyan,\n  '(': pico.cyan,\n  ')': pico.cyan,\n  '{': pico.yellow,\n  '}': pico.yellow,\n  '[': pico.yellow,\n  ']': pico.yellow,\n  ':': pico.yellow,\n  ';': pico.yellow\n};\n\nfunction getTokenType([type, value], processor) {\n  if (type === 'word') {\n    if (value[0] === '.') {\n      return 'class';\n    }\n\n    if (value[0] === '#') {\n      return 'hash';\n    }\n  }\n\n  if (!processor.endOfFile()) {\n    let next = processor.nextToken();\n    processor.back(next);\n    if (next[0] === 'brackets' || next[0] === '(') return 'call';\n  }\n\n  return type;\n}\n\nfunction terminalHighlight(css) {\n  let processor = tokenizer(new Input(css), {\n    ignoreErrors: true\n  });\n  let result = '';\n\n  while (!processor.endOfFile()) {\n    let token = processor.nextToken();\n    let color = HIGHLIGHT_THEME[getTokenType(token, processor)];\n\n    if (color) {\n      result += token[1].split(/\\r?\\n/).map(i => color(i)).join('\\n');\n    } else {\n      result += token[1];\n    }\n  }\n\n  return result;\n}\n\nterminalHighlight.registerInput = registerInput;\nmodule.exports = terminalHighlight;","map":null,"metadata":{},"sourceType":"script"}